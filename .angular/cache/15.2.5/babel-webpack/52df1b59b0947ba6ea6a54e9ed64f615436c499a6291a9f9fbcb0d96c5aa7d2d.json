{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/clients.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class ClientRegisterUpdateComponent {\n  constructor(clientsService, route) {\n    this.clientsService = clientsService;\n    this.route = route;\n    this.registerForm = new FormGroup({\n      cpf: new FormControl(),\n      nome: new FormControl(),\n      telefone: new FormControl(),\n      rua: new FormControl(),\n      complemento: new FormControl(),\n      cep: new FormControl(),\n      rendimentoMensal: new FormControl()\n    });\n    this.clientCpf = 0;\n  }\n  ngOnInit() {\n    this.clientCpf = Number(this.route.snapshot.paramMap.get('cpf'));\n    if (this.clientCpf) {\n      this.clientsService.findClientByCpf(this.clientCpf).subscribe(client => {\n        this.registerForm.setValue({\n          cpf: client.cpf,\n          nome: client.nome,\n          telefone: client.telefone,\n          rua: client.rua,\n          complemento: client.complemento,\n          cep: client.cep,\n          rendimentoMensal: client.rendimentoMensal\n        });\n      });\n    }\n  }\n  onSubmit() {\n    if (this.clientCpf) {\n      this.atualizar();\n    } else {\n      this.cadastrar();\n    }\n  }\n  cadastrar() {\n    const client = this.registerForm.value;\n    this.clientsService.registerClient(client).subscribe(result => {\n      Swal.fire({\n        icon: 'success',\n        title: 'Cadastro realizado!'\n      }).then(() => {\n        window.open('http://localhost:4200/clientes', '_self');\n      });\n    }, error => {\n      console.error();\n    });\n  }\n  atualizar() {\n    const client = this.registerForm.value;\n    this.clientsService.updateClient(client, this.clientCpf).subscribe(result => {\n      Swal.fire({\n        title: 'Cliente atualizado com sucesso',\n        icon: 'success',\n        confirmButtonText: 'Ok'\n      }).then(() => {\n        window.open('http://localhost:4200/clientes', '_self');\n      });\n    }, error => {\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: 'Algo deu errado! Verifique o erro no console.'\n      });\n      console.error(error);\n    });\n  }\n}\nClientRegisterUpdateComponent.ɵfac = function ClientRegisterUpdateComponent_Factory(t) {\n  return new (t || ClientRegisterUpdateComponent)(i0.ɵɵdirectiveInject(i1.ClientsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nClientRegisterUpdateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ClientRegisterUpdateComponent,\n  selectors: [[\"app-client-register-update\"]],\n  decls: 39,\n  vars: 4,\n  consts: [[1, \"container\", \"d-flex\", \"justify-content-center\"], [1, \"panel-body\"], [1, \"display-6\", \"m-4\", \"fw-bold\", 2, \"text-align\", \"center\"], [1, \"panel\", \"bg-whit\", \"shadow\", \"p-4\", \"m-4\", 2, \"width\", \"40em\"], [\"action\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\", \"mb-3\"], [\"for\", \"nome\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"nome\", \"formControlName\", \"nome\", \"placeholder\", \"Nome\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"cpf\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"cpf\", \"formControlName\", \"cpf\", \"required\", \"\", \"placeholder\", \"CPF\", 1, \"form-control\"], [\"for\", \"telefone\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"telefone\", \"formControlName\", \"telefone\", \"placeholder\", \"(00) 00000-0000\", \"mask\", \"(00) 00000-0000\", 1, \"form-control\"], [\"for\", \"cep\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"cep\", \"formControlName\", \"cep\", \"placeholder\", \"CEP\", \"mask\", \"XXXXX-XXX\", 1, \"form-control\"], [\"for\", \"rua\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"logradouro\", \"formControlName\", \"rua\", \"placeholder\", \"Rua, avenida, pra\\u00E7a...\", 1, \"form-control\"], [\"for\", \"Complemento\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"Complemento\", \"formControlName\", \"complemento\", \"placeholder\", \"Complemento do Endere\\u00E7o\", 1, \"form-control\"], [\"for\", \"renda\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"renda\", \"formControlName\", \"rendimentoMensal\", \"placeholder\", \"Renda Mensal\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"routerLink\", \"/clientes\"], [\"type\", \"text\", 1, \"btn\", \"btn-danger\", \"ms-2\"]],\n  template: function ClientRegisterUpdateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function ClientRegisterUpdateComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"label\", 6);\n      i0.ɵɵtext(8, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 5)(11, \"label\", 8);\n      i0.ɵɵtext(12, \"CPF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 5)(15, \"label\", 10);\n      i0.ɵɵtext(16, \"Telefone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 5)(19, \"label\", 12);\n      i0.ɵɵtext(20, \"CEP\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 5)(23, \"label\", 14);\n      i0.ɵɵtext(24, \"Logradouro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 5)(27, \"label\", 16);\n      i0.ɵɵtext(28, \"Complemento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(29, \"input\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 5)(31, \"label\", 18);\n      i0.ɵɵtext(32, \"Renda Mensal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(33, \"input\", 19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"button\", 20);\n      i0.ɵɵtext(35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"a\", 21)(37, \"button\", 22);\n      i0.ɵɵtext(38, \"Voltar\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.clientCpf ? \"Atualizar Cadastro\" : \"Cadastrar\", \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(29);\n      i0.ɵɵproperty(\"disabled\", !ctx.registerForm.valid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.clientCpf ? \"Atualizar\" : \"Cadastrar\", \" \");\n    }\n  },\n  dependencies: [i2.RouterLink, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Swal","ClientRegisterUpdateComponent","constructor","clientsService","route","cpf","nome","telefone","rua","complemento","cep","rendimentoMensal","ngOnInit","clientCpf","Number","snapshot","paramMap","get","findClientByCpf","subscribe","client","registerForm","setValue","onSubmit","atualizar","cadastrar","value","registerClient","result","fire","icon","title","then","window","open","error","console","updateClient","confirmButtonText","text","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\emprestimo-front\\emprestimo-front\\src\\app\\pages\\client-register-update\\client-register-update.component.ts","C:\\emprestimo-front\\emprestimo-front\\src\\app\\pages\\client-register-update\\client-register-update.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { IClient } from 'src/app/interfaces/client';\r\nimport { ClientsService } from 'src/app/services/clients.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-client-register-update',\r\n  templateUrl: './client-register-update.component.html',\r\n  styleUrls: ['./client-register-update.component.css'],\r\n})\r\nexport class ClientRegisterUpdateComponent {\r\n  registerForm = new FormGroup({\r\n    cpf: new FormControl(),\r\n    nome: new FormControl(),\r\n    telefone: new FormControl(),\r\n    rua: new FormControl(),\r\n    complemento: new FormControl(),\r\n    cep: new FormControl(),\r\n    rendimentoMensal: new FormControl(),\r\n  });\r\n\r\n  constructor(\r\n    private clientsService: ClientsService,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  clientCpf = 0;\r\n\r\n  ngOnInit() {\r\n    this.clientCpf = Number(this.route.snapshot.paramMap.get('cpf'));\r\n    if (this.clientCpf) {\r\n      this.clientsService\r\n        .findClientByCpf(this.clientCpf)\r\n        .subscribe((client: IClient) => {\r\n          this.registerForm.setValue({\r\n            cpf: client.cpf,\r\n            nome: client.nome,\r\n            telefone: client.telefone,\r\n            rua: client.rua,\r\n            complemento: client.complemento,\r\n            cep: client.cep,\r\n            rendimentoMensal: client.rendimentoMensal,\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.clientCpf) {\r\n      this.atualizar();\r\n    } else {\r\n      this.cadastrar();\r\n    }\r\n  }\r\n\r\n  cadastrar() {\r\n    const client: IClient = this.registerForm.value as IClient;\r\n    this.clientsService.registerClient(client).subscribe(\r\n      (result) => {\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Cadastro realizado!',\r\n        }).then(() => {\r\n          window.open('http://localhost:4200/clientes', '_self');\r\n        });\r\n      },\r\n      (error) => {\r\n        console.error();\r\n      }\r\n    );\r\n  }\r\n\r\n  atualizar() {\r\n    const client: IClient = this.registerForm.value as IClient;\r\n    this.clientsService.updateClient(client, this.clientCpf).subscribe(\r\n      (result) => {\r\n        Swal.fire({\r\n          title: 'Cliente atualizado com sucesso',\r\n          icon: 'success',\r\n          confirmButtonText: 'Ok',\r\n        }).then(() => {\r\n          window.open('http://localhost:4200/clientes', '_self');\r\n        });\r\n      },\r\n      (error) => {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Oops...',\r\n          text: 'Algo deu errado! Verifique o erro no console.',\r\n        });\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"container d-flex justify-content-center\">\r\n  <div class=\"panel-body\">\r\n    <h1 class=\"display-6 m-4 fw-bold\" style=\"text-align: center\">\r\n      {{ clientCpf ? \"Atualizar Cadastro\" : \"Cadastrar\" }}\r\n    </h1>\r\n    <div class=\"panel bg-whit shadow p-4 m-4\" style=\"width: 40em\">\r\n      <form [formGroup]=\"registerForm\" (ngSubmit)=\"onSubmit()\" action=\"\">\r\n        <div class=\"row mb-3\">\r\n          <label for=\"nome\" class=\"form-label\">Nome</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"nome\"\r\n            formControlName=\"nome\"\r\n            placeholder=\"Nome\"\r\n            required\r\n          />\r\n        </div>\r\n        <div class=\"row mb-3\">\r\n          <label for=\"cpf\" class=\"form-label\">CPF</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"cpf\"\r\n            formControlName=\"cpf\"\r\n            required\r\n            placeholder=\"CPF\"\r\n          />\r\n        </div>\r\n        <div class=\"row mb-3\">\r\n          <label for=\"telefone\" class=\"form-label\">Telefone</label>\r\n          <input\r\n            type=\"number\"\r\n            class=\"form-control\"\r\n            id=\"telefone\"\r\n            formControlName=\"telefone\"\r\n            placeholder=\"(00) 00000-0000\"\r\n            mask=\"(00) 00000-0000\"\r\n          />\r\n        </div>\r\n        <div class=\"row mb-3\">\r\n          <label for=\"cep\" class=\"form-label\">CEP</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"cep\"\r\n            formControlName=\"cep\"\r\n            placeholder=\"CEP\"\r\n            mask=\"XXXXX-XXX\"\r\n          />\r\n        </div>\r\n        <div class=\"row mb-3\">\r\n          <label for=\"rua\" class=\"form-label\">Logradouro</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"logradouro\"\r\n            formControlName=\"rua\"\r\n            placeholder=\"Rua, avenida, praça...\"\r\n          />\r\n        </div>\r\n        <div class=\"row mb-3\">\r\n          <label for=\"Complemento\" class=\"form-label\">Complemento</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"Complemento\"\r\n            formControlName=\"complemento\"\r\n            placeholder=\"Complemento do Endereço\"\r\n          />\r\n        </div>\r\n        <div class=\"row mb-3\">\r\n          <label for=\"renda\" class=\"form-label\">Renda Mensal</label>\r\n          <input\r\n            type=\"number\"\r\n            class=\"form-control\"\r\n            id=\"renda\"\r\n            formControlName=\"rendimentoMensal\"\r\n            placeholder=\"Renda Mensal\"\r\n            required\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          [disabled]=\"!registerForm.valid\"\r\n          class=\"btn btn-primary\"\r\n        >\r\n          {{ clientCpf ? \"Atualizar\" : \"Cadastrar\" }}\r\n        </button>\r\n        <a routerLink=\"/clientes\"\r\n          ><button type=\"text\" class=\"btn btn-danger ms-2\">Voltar</button></a\r\n        >\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}