{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/clients.service\";\nimport * as i2 from \"src/app/services/alerts.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction ClientsComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"div\", 5)(14, \"button\", 6);\n    i0.ɵɵtext(15, \" Op\\u00E7\\u00F5es \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ul\", 7)(17, \"li\")(18, \"a\", 8);\n    i0.ɵɵtext(19, \"Alterar Cadastro\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"li\")(21, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_tr_23_Template_a_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const client_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteClient(client_r1.cpf));\n    });\n    i0.ɵɵtext(22, \"Remover Cliente\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const client_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r1.cpf);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r1.nome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r1.telefone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r1.logradouro);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 6, client_r1.renda, \"BRL\"));\n    i0.ɵɵadvance(8);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/clientes/atualizar/\", client_r1.cpf, \"\");\n  }\n}\nexport class ClientsComponent {\n  constructor(clientsService, alertsService) {\n    this.clientsService = clientsService;\n    this.alertsService = alertsService;\n    this.clients = [];\n  }\n  ngOnInit() {\n    this.showAllClients();\n  }\n  showAllClients() {\n    this.clientsService.listAllClients().subscribe(result => {\n      this.clients = result;\n    });\n  }\n  deleteClient(cpf) {\n    if (cpf) {\n      this.clientsService.deleteClientByCpf(cpf).subscribe(() => {\n        this.alertsService.deleteAlert(), this.showAllClients();\n      }, error => {\n        console.error(error);\n      });\n      return;\n    }\n  }\n}\nClientsComponent.ɵfac = function ClientsComponent_Factory(t) {\n  return new (t || ClientsComponent)(i0.ɵɵdirectiveInject(i1.ClientsService), i0.ɵɵdirectiveInject(i2.AlertsService));\n};\nClientsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ClientsComponent,\n  selectors: [[\"app-clients\"]],\n  decls: 24,\n  vars: 4,\n  consts: [[1, \"display-6\"], [\"routerLink\", \"/clientes/cadastrar\", \"type\", \"button\", 1, \"btn\", \"btn-primary\"], [1, \"table\", \"table-bordered\", \"table-striped\", \"mt-3\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"dropdown\"], [\"type\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"btn\", \"btn-secondary\", \"dropdown-toggle\", \"btn-dark\"], [1, \"dropdown-menu\"], [1, \"dropdown-item\", 3, \"routerLink\"], [1, \"dropdown-item\", 3, \"click\"]],\n  template: function ClientsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Clientes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"a\", 1);\n      i0.ɵɵtext(3, \"Cadastrar Cliente\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\");\n      i0.ɵɵtext(5);\n      i0.ɵɵpipe(6, \"json\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"table\", 2)(8, \"thead\")(9, \"tr\")(10, \"th\", 3);\n      i0.ɵɵtext(11, \"CPF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 3);\n      i0.ɵɵtext(13, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\", 3);\n      i0.ɵɵtext(15, \"Telefone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 3);\n      i0.ɵɵtext(17, \"Endere\\u00E7o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 3);\n      i0.ɵɵtext(19, \"Renda Mensal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 3);\n      i0.ɵɵtext(21, \"A\\u00E7\\u00F5es\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"tbody\");\n      i0.ɵɵtemplate(23, ClientsComponent_tr_23_Template, 23, 9, \"tr\", 4);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 2, ctx.clients));\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.clients);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink, i3.JsonPipe, i3.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAeIA,0BAAmC;IAC7BA,YAAc;IAAAA,iBAAK;IACvBA,0BAAI;IAAAA,YAAe;IAAAA,iBAAK;IACxBA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAAA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,aAAiC;;IAAAA,iBAAK;IAC1CA,2BAAI;IAGAA,mCACF;IAAAA,iBAAS;IACTA,8BAA0B;IACqDA,iCAAgB;IAAAA,iBAAI;IACjGA,2BAAI;IAAyBA;MAAA;MAAA;MAAA;MAAA,OAASA,iDAAwB;IAAA,EAAC;IAACA,gCAAe;IAAAA,iBAAI;;;;IAZnFA,eAAc;IAAdA,mCAAc;IACdA,eAAe;IAAfA,oCAAe;IACfA,eAAmB;IAAnBA,wCAAmB;IACnBA,eAAqB;IAArBA,0CAAqB;IACrBA,eAAiC;IAAjCA,mEAAiC;IAO1BA,eAA+C;IAA/CA,kFAA+C;;;ACjBhE,OAAM,MAAOC,gBAAgB;EAE3BC,YAAoBC,cAA8B,EAAUC,aAA4B;IAApE,mBAAc,GAAdD,cAAc;IAA0B,kBAAa,GAAbC,aAAa;IADzE,YAAO,GAAc,EAAE;EACoE;EAE3FC,QAAQ;IAAK,IAAI,CAACC,cAAc,EAAE;EAAC;EAEnCA,cAAc;IACZ,IAAI,CAACH,cAAc,CAACI,cAAc,EAAE,CAACC,SAAS,CAAEC,MAAiB,IAAI;MACnE,IAAI,CAACC,OAAO,GAAGD,MAAM;IACvB,CAAC,CAAC;EACJ;EAEAE,YAAY,CAACC,GAAa;IACxB,IAAGA,GAAG,EAAE;MACN,IAAI,CAACT,cAAc,CAACU,iBAAiB,CAACD,GAAG,CAAC,CAACJ,SAAS,CAAC,MAAK;QACxD,IAAI,CAACJ,aAAa,CAACU,WAAW,EAAE,EAChC,IAAI,CAACR,cAAc,EAAE;MACvB,CAAC,EAAES,KAAK,IAAG;QACTC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;MACF;;EAEJ;;AAtBWd,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV7BrB,6BAAsB;MAAAA,wBAAQ;MAAAA,iBAAK;MACnCA,4BAA0E;MAAAA,iCAAiB;MAAAA,iBAAI;MAC/FA,2BAAK;MAAAA,YAAkB;;MAAAA,iBAAM;MAC7BA,gCAAuD;MAGjCA,oBAAG;MAAAA,iBAAK;MACxBA,8BAAgB;MAAAA,qBAAI;MAAAA,iBAAK;MACzBA,8BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAC7BA,8BAAgB;MAAAA,8BAAQ;MAAAA,iBAAK;MAC7BA,8BAAgB;MAAAA,6BAAY;MAAAA,iBAAK;MACjCA,8BAAgB;MAAAA,gCAAK;MAAAA,iBAAK;MAG9BA,8BAAO;MACLA,kEAiBK;MACPA,iBAAQ;;;MA/BLA,eAAkB;MAAlBA,uDAAkB;MAaIA,gBAAU;MAAVA,qCAAU","names":["i0","ClientsComponent","constructor","clientsService","alertsService","ngOnInit","showAllClients","listAllClients","subscribe","result","clients","deleteClient","cpf","deleteClientByCpf","deleteAlert","error","console","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\emprestimo-front\\emprestimo-front\\src\\app\\pages\\clients\\clients.component.html","C:\\emprestimo-front\\emprestimo-front\\src\\app\\pages\\clients\\clients.component.ts"],"sourcesContent":["<h1 class=\"display-6\">Clientes</h1>\n<a routerLink=\"/clientes/cadastrar\" type=\"button\" class=\"btn btn-primary\">Cadastrar Cliente</a>\n<div>{{clients | json}}</div>\n<table class=\"table table-bordered table-striped mt-3\">\n  <thead>\n    <tr>\n      <th scope=\"col\">CPF</th>\n      <th scope=\"col\">Nome</th>\n      <th scope=\"col\">Telefone</th>\n      <th scope=\"col\">Endereço</th>\n      <th scope=\"col\">Renda Mensal</th>\n      <th scope=\"col\">Ações</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let client of clients\">\n      <td>{{client.cpf}}</td>\n      <td>{{client.nome}}</td>\n      <td>{{client.telefone}}</td>\n      <td>{{client.logradouro}}</td>\n      <td>{{client.renda | currency:'BRL'}}</td>\n      <td>\n        <div class=\"dropdown\">\n        <button class=\"btn btn-secondary dropdown-toggle btn-dark\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n          Opções\n        </button>\n        <ul class=\"dropdown-menu\">\n          <li><a routerLink=\"/clientes/atualizar/{{client.cpf}}\" class=\"dropdown-item\">Alterar Cadastro</a></li>\n          <li><a class=\"dropdown-item\" (click)=\"deleteClient(client.cpf)\">Remover Cliente</a></li>\n        </ul>\n      </div>\n    </td>\n    </tr>\n  </tbody>\n</table>\n","import { Component } from '@angular/core';\nimport { IClient } from 'src/app/interfaces/client';\nimport { AlertsService } from 'src/app/services/alerts.service';\nimport { ClientsService } from 'src/app/services/clients.service';\n\n@Component({\n  selector: 'app-clients',\n  templateUrl: './clients.component.html',\n  styleUrls: ['./clients.component.css'],\n})\nexport class ClientsComponent {\n  clients: IClient[] = [];\n  constructor(private clientsService: ClientsService, private alertsService: AlertsService) {}\n\n  ngOnInit() { this.showAllClients() }\n\n  showAllClients(){\n    this.clientsService.listAllClients().subscribe((result: IClient[]) => {\n      this.clients = result;\n    });\n  }\n\n  deleteClient(cpf? : number) {\n    if(cpf) {\n      this.clientsService.deleteClientByCpf(cpf).subscribe(() => {\n        this.alertsService.deleteAlert(),\n        this.showAllClients()\n      }, error => {\n        console.error(error);\n      })\n      return;\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}