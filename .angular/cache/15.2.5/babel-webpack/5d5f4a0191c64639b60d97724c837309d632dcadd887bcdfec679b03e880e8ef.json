{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/clients.service\";\nimport * as i2 from \"src/app/services/alerts.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction ClientsComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"div\", 6)(14, \"button\", 7);\n    i0.ɵɵtext(15, \" Op\\u00E7\\u00F5es \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ul\", 8)(17, \"li\")(18, \"a\", 9);\n    i0.ɵɵtext(19, \"Alterar Cadastro\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"li\")(21, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_tr_24_Template_a_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const client_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteClient(client_r1.cpf));\n    });\n    i0.ɵɵtext(22, \"Remover Cliente\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const client_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r1.cpf);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r1.nome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r1.telefone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r1.logradouro);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 6, client_r1.rendimentoMensal, \"BRL\"));\n    i0.ɵɵadvance(8);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/clientes/atualizar/\", client_r1.cpf, \"\");\n  }\n}\nexport class ClientsComponent {\n  constructor(clientsService, alertsService) {\n    this.clientsService = clientsService;\n    this.alertsService = alertsService;\n    this.clients = [];\n  }\n  ngOnInit() {\n    this.showAllClients();\n  }\n  showAllClients() {\n    this.clientsService.listAllClients().subscribe(result => {\n      this.clients = result;\n    });\n  }\n  deleteClient(cpf) {\n    Swal.fire({\n      title: 'Tem certeza?',\n      text: 'Isso não é reversível.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Sim, deletar!',\n      cancelButtonText: 'Cancelar'\n    }).then(result => {\n      if (result.isConfirmed) {\n        this.clientsService.deleteClientByCpf(cpf).subscribe(() => {\n          Swal.fire('Deletado!', 'O cliente foi deletado.', 'success');\n          this.ngOnInit();\n        });\n      }\n    });\n  }\n}\nClientsComponent.ɵfac = function ClientsComponent_Factory(t) {\n  return new (t || ClientsComponent)(i0.ɵɵdirectiveInject(i1.ClientsService), i0.ɵɵdirectiveInject(i2.AlertsService));\n};\nClientsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ClientsComponent,\n  selectors: [[\"app-clients\"]],\n  decls: 25,\n  vars: 4,\n  consts: [[1, \"container\"], [1, \"display-6\", 2, \"text-align\", \"center\"], [\"routerLink\", \"/clientes/cadastrar\", \"type\", \"button\", 1, \"btn\", \"btn-success\"], [1, \"table\", \"table-bordered\", \"table-striped\", \"mt-3\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"dropdown\"], [\"type\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"btn\", \"btn-secondary\", \"dropdown-toggle\", \"btn-dark\"], [1, \"dropdown-menu\"], [1, \"dropdown-item\", 3, \"routerLink\"], [1, \"dropdown-item\", 3, \"click\"]],\n  template: function ClientsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"Clientes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"a\", 2);\n      i0.ɵɵtext(4, \" Cadastrar Cliente\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\");\n      i0.ɵɵtext(6);\n      i0.ɵɵpipe(7, \"json\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"table\", 3)(9, \"thead\")(10, \"tr\")(11, \"th\", 4);\n      i0.ɵɵtext(12, \"CPF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 4);\n      i0.ɵɵtext(14, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 4);\n      i0.ɵɵtext(16, \"Telefone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\", 4);\n      i0.ɵɵtext(18, \"Endere\\u00E7o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\", 4);\n      i0.ɵɵtext(20, \"Renda Mensal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\", 4);\n      i0.ɵɵtext(22, \"A\\u00E7\\u00F5es\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"tbody\");\n      i0.ɵɵtemplate(24, ClientsComponent_tr_24_Template, 23, 9, \"tr\", 5);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 2, ctx.clients));\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.clients);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink, i3.JsonPipe, i3.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAIA,OAAOA,IAAI,MAAM,aAAa;;;;;;;;;ICY1BC,0BAAmC;IAC7BA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAAAA,YAAiB;IAAAA,iBAAK;IAC1BA,0BAAI;IAAAA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,YAAuB;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,aAAgD;;IAAAA,iBAAK;IACzDA,2BAAI;IAQEA,mCACF;IAAAA,iBAAS;IACTA,8BAA0B;IAKnBA,iCAAgB;IAAAA,iBAClB;IAEHA,2BAAI;IACuBA;MAAA;MAAA;MAAA;MAAA,OAASA,iDAAwB;IAAA,EAAC;IACxDA,gCAAe;IAAAA,iBACjB;;;;IA1BLA,eAAgB;IAAhBA,mCAAgB;IAChBA,eAAiB;IAAjBA,oCAAiB;IACjBA,eAAqB;IAArBA,wCAAqB;IACrBA,eAAuB;IAAvBA,0CAAuB;IACvBA,eAAgD;IAAhDA,8EAAgD;IAc1CA,eAAiD;IAAjDA,kFAAiD;;;ADxBjE,OAAM,MAAOC,gBAAgB;EAE3BC,YAAoBC,cAA8B,EAAUC,aAA4B;IAApE,mBAAc,GAAdD,cAAc;IAA0B,kBAAa,GAAbC,aAAa;IADzE,YAAO,GAAc,EAAE;EACoE;EAE3FC,QAAQ;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAc;IACZ,IAAI,CAACH,cAAc,CAACI,cAAc,EAAE,CAACC,SAAS,CAAEC,MAAiB,IAAI;MACnE,IAAI,CAACC,OAAO,GAAGD,MAAM;IACvB,CAAC,CAAC;EACJ;EAGAE,YAAY,CAACC,GAAW;IACtBb,IAAI,CAACc,IAAI,CAAC;MACRC,KAAK,EAAE,cAAc;MACrBC,IAAI,EAAE,wBAAwB;MAC9BC,IAAI,EAAE,SAAS;MACfC,gBAAgB,EAAE,IAAI;MACtBC,kBAAkB,EAAE,SAAS;MAC7BC,iBAAiB,EAAE,MAAM;MACzBC,iBAAiB,EAAE,eAAe;MAClCC,gBAAgB,EAAE;KACnB,CAAC,CACDC,IAAI,CAAEb,MAAM,IAAI;MACf,IAAIA,MAAM,CAACc,WAAW,EAAE;QACtB,IAAI,CAACpB,cAAc,CAACqB,iBAAiB,CAACZ,GAAG,CAAC,CAACJ,SAAS,CAAC,MAAK;UACxDT,IAAI,CAACc,IAAI,CAAC,WAAW,EAAE,yBAAyB,EAAE,SAAS,CAAC;UAC5D,IAAI,CAACR,QAAQ,EAAE;QACjB,CAAC,CAAC;;IAEN,CAAC,CAAC;EACJ;;AAlCWJ,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX7B7B,8BAAuB;MAC2BA,wBAAQ;MAAAA,iBAAK;MAC/DA,4BAA0E;MAACA,kCAAiB;MAAAA,iBAAI;MAChGA,2BAAK;MAAAA,YAAoB;;MAAAA,iBAAM;MAC/BA,gCAAuD;MAGjCA,oBAAG;MAAAA,iBAAK;MACxBA,8BAAgB;MAAAA,qBAAI;MAAAA,iBAAK;MACzBA,8BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAC7BA,8BAAgB;MAAAA,8BAAQ;MAAAA,iBAAK;MAC7BA,8BAAgB;MAAAA,6BAAY;MAAAA,iBAAK;MACjCA,8BAAgB;MAAAA,gCAAK;MAAAA,iBAAK;MAG9BA,8BAAO;MACLA,kEAgCK;MACPA,iBAAQ;;;MA9CLA,eAAoB;MAApBA,uDAAoB;MAaEA,gBAAU;MAAVA,qCAAU","names":["Swal","i0","ClientsComponent","constructor","clientsService","alertsService","ngOnInit","showAllClients","listAllClients","subscribe","result","clients","deleteClient","cpf","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","isConfirmed","deleteClientByCpf","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\emprestimo-front\\emprestimo-front\\src\\app\\pages\\clients\\clients.component.ts","C:\\emprestimo-front\\emprestimo-front\\src\\app\\pages\\clients\\clients.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { IClient } from 'src/app/interfaces/client';\nimport { AlertsService } from 'src/app/services/alerts.service';\nimport { ClientsService } from 'src/app/services/clients.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-clients',\n  templateUrl: './clients.component.html',\n  styleUrls: ['./clients.component.css'],\n})\nexport class ClientsComponent {\n  clients: IClient[] = [];\n  constructor(private clientsService: ClientsService, private alertsService: AlertsService) {}\n\n  ngOnInit() {\n    this.showAllClients();\n  }\n\n  showAllClients() {\n    this.clientsService.listAllClients().subscribe((result: IClient[]) => {\n      this.clients = result;\n    });\n  }\n\n\n  deleteClient(cpf: string): void {\n    Swal.fire({\n      title: 'Tem certeza?',\n      text: 'Isso não é reversível.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Sim, deletar!',\n      cancelButtonText: 'Cancelar',\n    })\n    .then((result) => {\n      if (result.isConfirmed) {\n        this.clientsService.deleteClientByCpf(cpf).subscribe(() => {\n          Swal.fire('Deletado!', 'O cliente foi deletado.', 'success');\n          this.ngOnInit();\n        });\n      }\n    });\n  }\n}\n","<div class=\"container\">\n<h1 class=\"display-6\" style=\"text-align: center;\">Clientes</h1>\n<a routerLink=\"/clientes/cadastrar\" type=\"button\" class=\"btn btn-success\"> Cadastrar Cliente</a>\n<div>{{ clients | json }}</div>\n<table class=\"table table-bordered table-striped mt-3\">\n  <thead>\n    <tr>\n      <th scope=\"col\">CPF</th>\n      <th scope=\"col\">Nome</th>\n      <th scope=\"col\">Telefone</th>\n      <th scope=\"col\">Endereço</th>\n      <th scope=\"col\">Renda Mensal</th>\n      <th scope=\"col\">Ações</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let client of clients\">\n      <td>{{ client.cpf }}</td>\n      <td>{{ client.nome }}</td>\n      <td>{{ client.telefone }}</td>\n      <td>{{ client.logradouro }}</td>\n      <td>{{ client.rendimentoMensal | currency : \"BRL\" }}</td>\n      <td>\n        <div class=\"dropdown\">\n          <button\n            class=\"btn btn-secondary dropdown-toggle btn-dark\"\n            type=\"button\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            Opções\n          </button>\n          <ul class=\"dropdown-menu\">\n            <li>\n              <a\n                routerLink=\"/clientes/atualizar/{{ client.cpf }}\"\n                class=\"dropdown-item\"\n                >Alterar Cadastro</a\n              >\n            </li>\n            <li>\n              <a class=\"dropdown-item\" (click)=\"deleteClient(client.cpf)\"\n                >Remover Cliente</a\n              >\n            </li>\n          </ul>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}